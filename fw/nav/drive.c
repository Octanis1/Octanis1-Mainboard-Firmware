/*
 *  File: drive.c
 *  Description: High level driving functions
 *  Author:
 */



/* Board Header files */
#include "../Board.h"

#include "drive.h"
#include "../peripherals/wheel.h"


Void driveTask(UArg arg0, UArg arg1){

	GPIO_write(MSP_OCT1_432P401RLP_M5678SLEEP, Board_HBRIDGE_SLEEP_OFF);
	GPIO_write(MSP_OCT1_432P401RLP_M1234SLEEP, Board_HBRIDGE_SLEEP_OFF);


	int dbg0 = 0;
	int dbg1 = 0;
	int dbg2 = 0;
	int dbg3 = 0;

	while(true){

		dbg0 = GPIO_read(MSP_OCT1_432P401RLP_DEBUG0);
		dbg1 = GPIO_read(MSP_OCT1_432P401RLP_DEBUG1);
		dbg2 = GPIO_read(MSP_OCT1_432P401RLP_DEBUG2);
		dbg3 = GPIO_read(MSP_OCT1_432P401RLP_DEBUG3);


		//forward
		if(dbg0){
			GPIO_write(MSP_OCT1_432P401RLP_M1IN1, 1);
			GPIO_write(MSP_OCT1_432P401RLP_M1IN2, 1);

			GPIO_write(MSP_OCT1_432P401RLP_M2IN1, 1);
			GPIO_write(MSP_OCT1_432P401RLP_M2IN2, 1);


			GPIO_write(MSP_OCT1_432P401RLP_M3IN1, 1);
			GPIO_write(MSP_OCT1_432P401RLP_M3IN2, 1);


			GPIO_write(MSP_OCT1_432P401RLP_M4IN1, 1);
			GPIO_write(MSP_OCT1_432P401RLP_M4IN2, 1);
		}

		//reverse
		if(dbg1){

			GPIO_write(MSP_OCT1_432P401RLP_M1IN1, 0);
			GPIO_write(MSP_OCT1_432P401RLP_M1IN2, 1);

			GPIO_write(MSP_OCT1_432P401RLP_M2IN1, 0);
			GPIO_write(MSP_OCT1_432P401RLP_M2IN2, 1);


			GPIO_write(MSP_OCT1_432P401RLP_M3IN1, 0);
			GPIO_write(MSP_OCT1_432P401RLP_M3IN2, 1);


			GPIO_write(MSP_OCT1_432P401RLP_M4IN1, 0);
			GPIO_write(MSP_OCT1_432P401RLP_M4IN2, 1);

		}

		//left
		if(dbg2){

			GPIO_write(MSP_OCT1_432P401RLP_M1IN1, 1);
			GPIO_write(MSP_OCT1_432P401RLP_M1IN2, 1);

			GPIO_write(MSP_OCT1_432P401RLP_M2IN1, 1);
			GPIO_write(MSP_OCT1_432P401RLP_M2IN2, 1);


			GPIO_write(MSP_OCT1_432P401RLP_M3IN1, 0);
			GPIO_write(MSP_OCT1_432P401RLP_M3IN2, 1);


			GPIO_write(MSP_OCT1_432P401RLP_M4IN1, 0);
			GPIO_write(MSP_OCT1_432P401RLP_M4IN2, 1);

		}

		//right
		if(dbg3){

			GPIO_write(MSP_OCT1_432P401RLP_M1IN1, 0);
			GPIO_write(MSP_OCT1_432P401RLP_M1IN2, 1);

			GPIO_write(MSP_OCT1_432P401RLP_M2IN1, 0);
			GPIO_write(MSP_OCT1_432P401RLP_M2IN2, 1);


			GPIO_write(MSP_OCT1_432P401RLP_M3IN1, 1);
			GPIO_write(MSP_OCT1_432P401RLP_M3IN2, 1);


			GPIO_write(MSP_OCT1_432P401RLP_M4IN1, 1);
			GPIO_write(MSP_OCT1_432P401RLP_M4IN2, 1);


		}



		Task_sleep(100);

	}


}
/*
GPIO_write(MSP_OCT1_432P401RLP_M1IN1, 1);
GPIO_write(MSP_OCT1_432P401RLP_M1IN2, 1);

GPIO_write(MSP_OCT1_432P401RLP_M2IN1, 1);
GPIO_write(MSP_OCT1_432P401RLP_M2IN2, 1);


GPIO_write(MSP_OCT1_432P401RLP_M3IN1, 1);
GPIO_write(MSP_OCT1_432P401RLP_M3IN2, 1);


GPIO_write(MSP_OCT1_432P401RLP_M4IN1, 1);
GPIO_write(MSP_OCT1_432P401RLP_M4IN2, 1);

GPIO_write(MSP_OCT1_432P401RLP_M5IN1, 1);
GPIO_write(MSP_OCT1_432P401RLP_M5IN2, 1);


GPIO_write(MSP_OCT1_432P401RLP_M6IN1, 1);
GPIO_write(MSP_OCT1_432P401RLP_M6IN2, 1);


GPIO_write(MSP_OCT1_432P401RLP_M7IN1, 1);
GPIO_write(MSP_OCT1_432P401RLP_M7IN2, 1);


GPIO_write(MSP_OCT1_432P401RLP_M8IN1, 1);
GPIO_write(MSP_OCT1_432P401RLP_M8IN2, 1);
*/

